(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[27],{108:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return d}));var c=s(49),n=s(53),r=s(19),o=s(0),a=s(68),i=s.n(a),l=s(51),j=(s(26),s(3)),u=s(101),b=s(1);function d(){var e=Object(j.g)(),t=Object(r.c)((function(e){return e.foodItem.data})),s=Object(r.c)((function(e){return e.defForm.like})),a=Object(r.c)((function(e){return e.defForm.rating})),d=Object(r.c)((function(e){return e.defForm.Comment})),h=Object(u.a)(["user"]),f=Object(c.a)(h,2),p=f[0];f[1];0===t.length&&(window.location="/review");var O=Object(o.useState)(new Array(t.length).fill(!1)),m=Object(c.a)(O,2),g=m[0],x=m[1],v=Object(o.useState)(new Array(t.length).fill(0)),w=Object(c.a)(v,2),k=w[0],y=w[1],C=Object(o.useState)(new Array(t.length).fill("")),N=Object(c.a)(C,2),F=N[0],T=N[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(n.a,{}),Object(b.jsx)("section",{className:"mainsectionreview",children:Object(b.jsx)("div",{class:"page-wrapper p-t-180 p-b-100",children:Object(b.jsx)("div",{class:"wrapper wrapper--w960",children:Object(b.jsx)("div",{class:"card card-2",children:Object(b.jsxs)("div",{class:"card-body",children:[Object(b.jsx)("h2",{class:"title",children:"Review Form"}),Object(b.jsxs)("form",{onSubmit:function(c){c.preventDefault(),console.log(F);var n={},r=[];console.log(k);for(var o=0;o<t.length;o++)k[o]>0&&(n[t[o]]=[k[o],F[o]]),!0===g[o]&&r.push(t[o]);if(console.log(n),""===s||0===a)l.b.error("Error! Try again.",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){e.push("/review")}),2e3);else{var i={DidLike:"Yes"===s,Rating:a,Comment:d,UserId:p.ID,RatingFoods:n,LikeFoods:r};fetch("https://shrouded-springs-22159.herokuapp.com/form/form/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(t){"Form saved successfully"===t.message?(l.b.success("Thank you for filling the form",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){e.push("/review")}),2e3)):(l.b.error("Error! Please try again",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){e.push("/review")}),2e3))})).catch((function(e){return console.log(e)}))}},children:[Object(b.jsx)("h4",{children:" Please select the food item you like"}),Object(b.jsx)("br",{}),Object(b.jsx)("ul",{className:"toppings-list",children:void 0!==t&&null!==t&&0!==t.length&&t.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsx)("div",{className:"toppings-list-item",children:Object(b.jsxs)("div",{className:"left-section",children:[Object(b.jsx)("input",{class:"form-check form-check-inline",type:"checkbox",id:"custom-checkbox-".concat(t),name:e,value:e,checked:g[t],onChange:function(){return function(e){var t=g.map((function(t,s){return s===e?!t:t}));x(t)}(t)}}),Object(b.jsx)("label",{htmlFor:"custom-checkbox-".concat(t),children:e})]})})},t)}))}),Object(b.jsx)("br",{}),Object(b.jsx)("h4",{children:" Rate the food items "}),Object(b.jsx)("br",{}),Object(b.jsx)("ul",{className:"toppings-list",children:null!==t&&void 0!==t&&0!==t.length&&t.map((function(e,t){return Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{style:{display:"flex",flexDirection:"row"},children:[Object(b.jsx)("h5",{className:"mr-5",children:e}),Object(b.jsx)(i.a,{classNames:"ml-5",count:5,onChange:function(e){var s=k.map((function(s,c){return t===c?e:s}));y(s)},size:24,isHalf:!1,emptyIcon:Object(b.jsx)("i",{className:"far fa-star"}),halfIcon:Object(b.jsx)("i",{className:"fa fa-star-half-alt"}),fullIcon:Object(b.jsx)("i",{className:"fa fa-star"}),activeColor:"#ffd700"}),Object(b.jsx)("br",{})]},t),Object(b.jsx)("li",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{for:"fname",className:"left-align2",children:Object(b.jsx)("h4",{children:"Comments"})}),Object(b.jsx)("br",{}),Object(b.jsx)("textarea",{placeholder:"Enter Comment",value:F[t],name:e,onChange:function(e){var s=e.target.value,c=F.map((function(e,c){return t===c?s:e}));T(c)},rows:"4",cols:"30",maxlength:"100"})]})})]})}))}),Object(b.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Submit"})]})]})})})})}),Object(b.jsx)(l.a,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}}]);
//# sourceMappingURL=27.7a313eea.chunk.js.map