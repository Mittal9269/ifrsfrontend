{"version":3,"sources":["Components/MessMenu/RatingPerFoodLower.js","Components/MessMenu/RatingPerFood.js"],"names":["RatingPerFoodLower","props","class","src","val","UserId","image","alt","Name","createdAt","substring","value","Rating","size","isHalf","edit","emptyIcon","className","halfIcon","fullIcon","activeColor","Comment","RatingPerFood","fooditem","useParams","useState","data","setData","redirect","setRedirect","useCookies","cookies","average","setAverage","picture","setPicture","useEffect","jwttoken","fetch","process","method","headers","fecthHeader","then","res","json","fetchedata","catch","err","console","log","total","forEach","element","parseInt","length","Navbar","to","height","undefined","map","index"],"mappings":"2NAEe,SAASA,EAAmBC,GACvC,OACI,mCACI,qBAAKC,MAAM,MAAX,SACI,sBAAKA,MAAM,SAAX,UACI,uBACA,qBAAKA,MAAM,eAAX,SACI,sBAAKA,MAAM,MAAX,UACI,sBAAKA,MAAM,WAAX,UACI,qBAAKC,IAAKF,EAAMG,IAAIC,OAAOC,MAAOJ,MAAM,cAAcK,IAAI,OAC1D,qBAAKL,MAAM,oBAAX,SAA+B,4BAAID,EAAMG,IAAIC,OAAOG,SACpD,sBAAKN,MAAM,oBAAX,UAAgCD,EAAMG,IAAIK,UAAUC,UAAU,EAAG,IAAI,uBAAOT,EAAMG,IAAIK,UAAUC,UAAU,GAAI,UAElH,sBAAKR,MAAM,WAAX,UACI,qBAAKA,MAAM,oBAAX,SACI,cAAC,IAAD,CACIA,MAAM,yBACN,aAAW,aACXS,MAAOV,EAAMG,IAAIQ,OACjBC,KAAM,GACNC,QAAQ,EACRC,MAAM,EACNC,UAAW,mBAAGC,UAAU,gBACxBC,SAAU,mBAAGD,UAAU,wBACvBE,SAAU,mBAAGF,UAAU,eACvBG,YAAY,cAGpB,qBAAKlB,MAAM,2BAAX,SAAuCD,EAAMG,IAAIiB,kBAI7D,8BCzBL,SAASC,IACpB,IAAQC,EAAaC,cAAbD,SACR,EAAwBE,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAgCF,oBAAS,GAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA6BC,YAAW,CAAC,SAAzC,mBAAOC,EAAP,KACA,GADA,KAC8BN,mBAAS,IAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAA+BR,mBAAS,kHAAxC,mBAAOS,EAAP,KAAiBC,EAAjB,KAiCA,OA/BAC,qBAAU,WACFL,EAAQM,UAGRR,GAAY,GAGhBS,MAAMC,+DAAqDhB,EAAU,CACjEiB,OAAS,MACTC,QAASC,MACVC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAG,GAAgBX,EAAWW,EAAWxC,UAC3CyC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAG1BV,MAAMC,4DAAkDhB,EAAU,CAC9DiB,OAAQ,MACRC,QAASC,MACVC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAG,GACE,IAAIK,EAAQ,EACZL,EAAWM,SAAQ,SAAAC,GACfF,GAASG,SAASD,EAAQzC,WAE1BkC,EAAWS,OAAS,GACpBtB,EAAWkB,EAAQL,EAAWS,QAClC5B,EAAQmB,MAEXC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC/B,CAACzB,EAAWQ,EAAQM,WAGnB,qCACI,cAACmB,EAAA,EAAD,IACC5B,GAAY,cAAC,IAAD,CAAU6B,GAAG,MAC1B,yBAASxC,UAAU,oBAAnB,SACI,qBAAKf,MAAM,+BAAX,SACI,qBAAKA,MAAM,wBAAX,SACI,qBAAKA,MAAM,cAAX,SACI,sBAAKA,MAAM,6BAAX,UACI,oBAAIA,MAAM,oBAAV,SAA+BqB,IAC/B,uBACA,qBAAKrB,MAAM,+CAA+CC,IAAK+B,EAAS3B,IAAI,GAAGmD,OAAO,QACtF,qBAAKxD,MAAM,kBAAX,SACI,sBAAKA,MAAM,eAAX,UACI,qDACA,oBAAIA,MAAM,wBAAV,SAAmC8B,IACnC,sBAAM9B,MAAM,wBAAwB,cAAY,mBAG9CyD,IAATjC,GAAsC,IAAhBA,EAAK6B,QAAgB7B,EAAKkC,KAAI,SAACxD,EAAKyD,GACvD,OACI,mCACI,cAAC7D,EAAD,CAAgCI,IAAKA,GAAZyD","file":"static/js/28.b45b22e2.chunk.js","sourcesContent":["import ReactStars from \"react-rating-stars-component\";\r\n\r\nexport default function RatingPerFoodLower(props) {\r\n    return (\r\n        <>\r\n            <div class=\"row\">\r\n                <div class=\"col-sm\">\r\n                    <hr />\r\n                    <div class=\"review-block\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-3\">\r\n                                <img src={props.val.UserId.image} class=\"img-rounded\" alt=\"..\" />\r\n                                <div class=\"review-block-name\"><p>{props.val.UserId.Name}</p></div>\r\n                                <div class=\"review-block-date\">{props.val.createdAt.substring(0, 10)}<br />{props.val.createdAt.substring(11, 19)}</div>\r\n                            </div>\r\n                            <div class=\"col-sm-9\">\r\n                                <div class=\"review-block-rate\">\r\n                                    <ReactStars\r\n                                        class=\"btn btn-warning btn-sm\"\r\n                                        aria-label=\"Left Align\"\r\n                                        value={props.val.Rating}\r\n                                        size={24}\r\n                                        isHalf={true}\r\n                                        edit={false}\r\n                                        emptyIcon={<i className=\"far fa-star\"></i>}\r\n                                        halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\r\n                                        fullIcon={<i className=\"fa fa-star\"></i>}\r\n                                        activeColor=\"#ffd700\"\r\n                                    />\r\n                                </div>\r\n                                <div class=\"review-block-description\">{props.val.Comment}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Navbar from \"../Navbar\";\nimport { Redirect } from \"react-router\";\nimport { useCookies } from \"react-cookie\";\nimport { fecthHeader } from \"../style/Notification\";\nimport RatingPerFoodLower from \"./RatingPerFoodLower\";\n\n\nexport default function RatingPerFood() {\n    const { fooditem } = useParams();\n    const [data, setData] = useState([])\n    const [redirect, setRedirect] = useState(false);\n    const [cookies, setCookie] = useCookies(['user']);\n    const [average, setAverage] = useState(0);\n    const [picture , setPicture] = useState(\"https://res.cloudinary.com/dynuzthsk/image/upload/v1636130414/WhatsApp_Image_2021-11-05_at_22.05.37_jqjv9i.jpg\");\n\n    useEffect(() => {\n        if (cookies.jwttoken) {\n\n        } else {\n            setRedirect(true);\n        }\n\n        fetch(process.env.REACT_APP_BACKEND + \"/menu/menu/item/\" + fooditem, {\n            method : \"GET\",\n            headers: fecthHeader\n        }).then(res => res.json())\n        .then(fetchedata => { setPicture(fetchedata.image) })\n        .catch(err => console.log(err))\n\n\n        fetch(process.env.REACT_APP_BACKEND + \"/form/rating/\" + fooditem, {\n            method: \"GET\",\n            headers: fecthHeader\n        }).then(res => res.json())\n        .then(fetchedata => {\n                let total = 0;\n                fetchedata.forEach(element => {\n                    total += parseInt(element.Rating);\n                });\n                if (fetchedata.length > 0)\n                    setAverage(total / fetchedata.length)\n                setData(fetchedata)\n            })\n            .catch(err => console.log(err));\n    }, [fooditem , cookies.jwttoken])\n\n    return (\n        <>\n            <Navbar />\n            {redirect && <Redirect to=\"/\" />}\n            <section className=\"mainsectionreview\">\n                <div class=\"page-wrapper p-t-180 p-b-100\">\n                    <div class=\"wrapper wrapper--w960\">\n                        <div class=\"card card-2\">\n                            <div class=\"px-4 py-1 my-4 text-center\">\n                                <h1 class=\"display-5 fw-bold\">{fooditem}</h1>\n                                <br />\n                                <img class=\"rounded mx-auto d-block d-block mx-auto mb-4\" src={picture} alt=\"\" height=\"200\" />\n                                <div class=\"col-sm-5 m-auto\">\n                                    <div class=\"rating-block\">\n                                        <h4>Average user rating</h4>\n                                        <h2 class=\"bold padding-bottom-7\">{average}</h2>\n                                        <span class=\"rating rating-loading\" aria-hidden=\"true\"></span>\n                                    </div>\n                                </div>\n                                {data !== undefined && data.length !== 0 && data.map((val, index) => {\n                                    return (\n                                        <>\n                                            <RatingPerFoodLower key={index} val={val} />\n                                        </>\n                                    )\n                                })}\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </>\n    )\n}"],"sourceRoot":""}